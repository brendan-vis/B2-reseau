### TP2 : Environnement virtuel

## I. Topologie réseau

☀️ Sur node1.lan1.tp2
```
[brendan@node1 ~]$ ip a
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:5c:11:67 brd ff:ff:ff:ff:ff:ff
    inet 10.1.1.11/24 brd 10.1.1.255 scope global noprefixroute enp0s3
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fe5c:1167/64 scope link
       valid_lft forever preferred_lft forever


[brendan@node1 ~]$ ip r s
10.1.1.0/24 dev enp0s3 proto kernel scope link src 10.1.1.11 metric 100
10.1.2.0/24 via 10.1.1.254 dev enp0s3 proto static metric 100


[brendan@node1 ~]$ ping 10.1.2.12
PING 10.1.2.12 (10.1.2.12) 56(84) bytes of data.
64 bytes from 10.1.2.12: icmp_seq=1 ttl=63 time=1.63 ms
64 bytes from 10.1.2.12: icmp_seq=2 ttl=63 time=0.721 ms


[brendan@node1 ~]$ traceroute 10.1.1.254
traceroute to 10.1.1.254 (10.1.1.254), 30 hops max, 60 byte packets
 1  10.1.1.254 (10.1.1.254)  0.663 ms !X  0.627 ms !X  0.608 ms !X
```

## II. Interlude accès internet

☀️ Sur router.tp2
```
[brendan@router ~]$ ping 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=113 time=24.0 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=113 time=22.6 ms


[brendan@router ~]$ ping google.com
PING google.com (142.251.37.238) 56(84) bytes of data.
64 bytes from mrs09s16-in-f14.1e100.net (142.251.37.238): icmp_seq=1 ttl=112 time=21.5 ms
64 bytes from mrs09s16-in-f14.1e100.net (142.251.37.238): icmp_seq=2 ttl=112 time=23.2 ms
```

☀️ Accès internet LAN1 et LAN2
```
[brendan@node2 ~]$ sudo nano /etc/sysconfig/network-scripts/route-enp0s3

10.1.2.0/24 via 10.1.1.254 dev enp0s3
default via 10.1.1.254 dev enp0s3


[brendan@node2 ~]$ sudo nano /etc/resolv.conf

# Generated by NetworkManager
nameserver 1.1.1.1

[brendan@node2 ~]$ ping 8.8.8.8

PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=112 time=23.7 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=112 time=23.0 ms

[brendan@node2 ~]$ ping google.com

PING google.com (142.250.201.14) 56(84) bytes of data.
64 bytes from mrs08s19-in-f14.1e100.net (142.250.201.14): icmp_seq=1 ttl=112 time=22.2 ms
64 bytes from mrs08s19-in-f14.1e100.net (142.250.201.14): icmp_seq=2 ttl=112 time=23.9 ms
```

## III. Services réseau

☀️ Sur web.lan2.tp2
```
[brendan@web site_nul]$ curl 10.1.2.12
<h1>MEOW</h1>

[brendan@web ~]$ ss -alnpt | grep 80
LISTEN 0      511          0.0.0.0:80        0.0.0.0:*
LISTEN 0      511             [::]:80           [::]:*


[brendan@web ~]$ sudo firewall-cmd --list-all
ports: 80/tcp
```

☀️ Sur node1.lan1.tp2
```
[brendan@web ~]$ sudo nano /etc/hosts
[brendan@web ~]$ cat /etc/hosts
10.1.2.12 site_nul.tp2

[brendan@web ~]$ curl site_nul.tp2
<h1>MEOW</h1>
```